<div
  *ngIf="{
    students: students$ | async,
    studentsError: studentsError$ | async
  } as data"
>
  <ng-container *ngIf="data.students as students; else loading">
    <app-student-card *ngFor="let student of students" [student]="student" />
  </ng-container>
  <app-error
    *ngIf="data.studentsError as studentsError"
    [error_message]="studentsError"
  />
  <ng-template #loading
    ><app-loading *ngIf="!data.studentsError"
  /></ng-template>
</div>
